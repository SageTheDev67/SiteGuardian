<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SiteGuardian</title>
  <link rel="stylesheet" href="dashboard.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="brandMark">ðŸ›¡</div>
        <div>
          <div class="brandName">SiteGuardian</div>
          <div class="brandSub">Know whatâ€™s stored. Take control.</div>
        </div>
      </div>
      <div class="pill" id="avgTrustPill">Avg Trust 100%</div>
    </header>

    <section class="metricGrid">
      <div class="metricCard">
        <div class="metricLabel">Total Trackers</div>
        <div class="metricValue" id="mTrackers">0</div>
        <div class="metricHint">Matches in last 7 days</div>
      </div>
      <div class="metricCard">
        <div class="metricLabel">Stored Data</div>
        <div class="metricValue" id="mStorage">0 KB</div>
        <div class="metricHint">Across tracked sites</div>
      </div>
      <div class="metricCard">
        <div class="metricLabel">Third-Party Cookies</div>
        <div class="metricValue" id="m3p">0</div>
        <div class="metricHint">Estimated</div>
      </div>
      <div class="metricCard">
        <div class="metricLabel">Sites Tracked</div>
        <div class="metricValue" id="mSites">0</div>
        <div class="metricHint">Seen recently</div>
      </div>
    </section>

    <section class="panel">
      <div class="panelHead">
        <div>
          <div class="panelTitle">Activity</div>
          <div class="panelSub">Storage trend (selected site)</div>
        </div>
        <div class="segmented">
          <button class="segBtn active" data-range="7">7d</button>
          <button class="segBtn" data-range="30">30d</button>
        </div>
      </div>
      <canvas id="chart" height="140"></canvas>
    </section>

    <!-- NEW: Today + Leaderboard + Daily report toggle -->
    <section class="panel">
      <div class="panelHead">
        <div>
          <div class="panelTitle">Today</div>
          <div class="panelSub">Worst site visited today + global risk leaderboard</div>
        </div>
        <div class="dailyControls">
          <label class="toggle">
            <input type="checkbox" id="dailyToggle" />
            <span>Daily report</span>
          </label>
          <select id="dailyHour" class="select">
            <option value="0">00:00</option><option value="1">01:00</option><option value="2">02:00</option><option value="3">03:00</option>
            <option value="4">04:00</option><option value="5">05:00</option><option value="6">06:00</option><option value="7">07:00</option>
            <option value="8">08:00</option><option value="9">09:00</option><option value="10">10:00</option><option value="11">11:00</option>
            <option value="12">12:00</option><option value="13">13:00</option><option value="14">14:00</option><option value="15">15:00</option>
            <option value="16">16:00</option><option value="17">17:00</option><option value="18">18:00</option><option value="19">19:00</option>
            <option value="20">20:00</option><option value="21">21:00</option><option value="22">22:00</option><option value="23">23:00</option>
          </select>
        </div>
      </div>

      <div class="todayRow">
        <div class="todayCard">
          <div class="todayLabel">Worst site visited today</div>
          <div class="todayValue" id="worstTodayMain">â€”</div>
          <div class="todayHint" id="worstTodayMeta">â€”</div>
        </div>

        <div class="leaderCard">
          <div class="todayLabel">Global ranking leaderboard (worst first)</div>
          <div id="leaderList" class="leaderList"></div>
        </div>
      </div>
    </section>

    <section class="toolbar">
      <input id="search" placeholder="Filter websites..." />
      <div class="tabs">
        <button class="tab active" data-tab="tracked">Tracked</button>
        <button class="tab" data-tab="excluded">Excluded</button>
      </div>
    </section>

    <section class="tableWrap">
      <table class="table">
        <thead>
          <tr>
            <th>Website</th>
            <th>Trackers</th>
            <th>Storage</th>
            <th>3P Cookies</th>
            <th>Trust</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
      <div class="empty" id="emptyState">No results.</div>
    </section>
  </div>

  <script type="module" src="dashboard.js"></script>
</body>
</html>
